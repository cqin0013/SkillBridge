.sp-body {
margin-top: .5rem
}

.sp-search {
margin-bottom: .75rem
}

/* Scrollable grid (smaller column widths on small screens), flexible scrolling on mobile devices */
.sp-grid {
display: grid;
grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
/* Original 220 â†’ 180, easier layout on mobile phones */
gap: .5rem;
max-height: 420px;
overflow: auto;
padding-right: .25rem;
-webkit-overflow-scrolling: touch;
/* iOS smoother */
overscroll-behavior: contain;
/* Prevent parent scroll chain */
}

/* Tabs */
.sp-item {
display: inline-flex;
align-items: center;
gap: .5rem;
border: 1px solid var(--color-border);
background: #fff;
border-radius: 8px;
padding: .6rem .7rem;
/* Slightly increase the touch area */
cursor: pointer;
transition: border-color .15s ease, background .15s ease, transform .12s ease;
-webkit-tap-highlight-color: transparent;
}

/* Hover feedback is only enabled on hover-capable devices to avoid phone "jitter" */
@media (hover:hover) {
.sp-item:hover {
border-color: var(--color-primary);
background: var(--color-primary-100)
}
}

/* Keyboard accessibility */
.sp-item:focus-visible {
outline: 2px solid var(--color-primary);
outline-offset: 2px;
}

/* Selected/disabled state */
.sp-item.is-picked {
border-color: var(--color-primary);
background: #eef5ff
}

.sp-item.is-disabled {
opacity: .55;
cursor: not-allowed
}

.sp-name {
user-select: none
}

.sp-empty {
color: var(--color-muted);
padding: .75rem
}

.sp-count {
font-size: .9rem;
color: var(--color-muted)
}

/* Small screen optimization: further reduce column width and tighten height */
@media (max-width:520px) {
.sp-grid {
grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
max-height: 360px
}

.sp-item {
padding: .55rem .65rem
}
}

/* Extremely narrow screens: Single column to avoid crowding */
@media (max-width:360px) {
.sp-grid {
grid-template-columns: 1fr
}
}
